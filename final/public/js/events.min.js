function EventStruct(e){this.run=e,this.activated=!1}function doEvent(e,i){e[i]&&!e[i].activated&&(e[i].activated=!0,e[i].run())}function makeMultiFrameEvent(e,i,t){for(let a=e;a<i;a+=1){const e=new EventStruct(t);filmEventList[a]=e}}const filmEventList=new Array(12405);function makeAd(e,i,t,a,o){const r=game.add.group();adGfx.lineStyle(.75,10921638,1),adGfx.beginFill(16777215,1),adGfx.drawRoundedRect(e,i,465,165,9);const s=game.add.text(e+7,i+7,t,{font:"Arimo, sans-serif",fontSize:"30px",fontWeight:"normal",fill:"#2200CC"});s.wordWrap=!0,s.wordWrapWidth=450,r.add(s);const n=game.add.text(e+7,s.y+s.height,a,{font:"Arimo, sans-serif",fontSize:"19px",fontWeight:"normal",fill:"#0F9D58"});n.wordWrap=!0,n.wordWrapWidth=450,r.add(n);const l=game.add.text(e+7,n.y+n.height,o,{font:"Arimo, sans-serif",fontSize:"19px",fontWeight:"normal",fill:"#000000"});return l.wordWrap=!0,l.wordWrapWidth=450,r.add(l),r}function makeTextBox(e,i,t,a=!1){const o=game.add.group();allTextBoxesGroup.add(o);const r=game.add.graphics(0,0);o.add(r);const s=a?0:16776960,n=a?16776960:0;r.lineStyle(4,n,1),r.beginFill(s,1),r.drawRect(e,i,K_TEXT_BOX_SIZE,K_TEXT_BOX_SIZE);const l=a?"#ffff00":"#000000";return o.copyText=game.add.text(e+12,i+12,t,{font:"Arimo, sans-serif",fontSize:"45px",fontWeight:"bold",fill:l}),o.copyText.wordWrap=!0,o.copyText.wordWrapWidth=K_TEXT_BOX_SIZE-12,o.copyText.wordWrapWidth=K_TEXT_BOX_SIZE-12,o.copyText.wordWrapWidth=K_TEXT_BOX_SIZE-12,o.copyText.wordWrapWidth=K_TEXT_BOX_SIZE-12,o.copyText.wordWrapWidth=K_TEXT_BOX_SIZE-12,o.copyText.wordWrapWidth=K_TEXT_BOX_SIZE-12,o.copyText.wordWrapWidth=K_TEXT_BOX_SIZE-12,o.copyText.wordWrapWidth=K_TEXT_BOX_SIZE-12,o.copyText.wordWrapWidth=K_TEXT_BOX_SIZE-12,o.copyText.wordWrapWidth=K_TEXT_BOX_SIZE-12,o.copyText.wordWrapWidth=K_TEXT_BOX_SIZE-12,o.add(o.copyText),o}function drawDogFilter(e){if(e){if(frame%K_AR_FRAME_INTERVAL==0){const i=new Phaser.Line(e[0][0]+userVideoGroup.position.x+userVideoSprite.position.x,e[0][1]+userVideoGroup.position.y+userVideoSprite.position.y,e[16][0]+userVideoGroup.position.x+userVideoSprite.position.x,e[16][1]+userVideoGroup.position.y+userVideoSprite.position.y),t=i.length,a=t/1050;dogNose.scale.setTo(a,a),dogNose.position.x=e[30][0]+userVideoGroup.position.x+userVideoSprite.position.x,dogNose.position.y=e[30][1]+userVideoGroup.position.y+userVideoSprite.position.y,dogNose.rotation=i.angle,dogNose.visible=!0;const o=i.midPoint();let r=new Phaser.Line(o.x,o.y,0,0);r=r.fromAngle(o.x,o.y,i.angle-1.5708,.4*t);const s=t/320;dogEars.scale.setTo(s,s),dogEars.position=r.end,dogEars.rotation=i.angle,dogEars.visible=!0;const n=new Phaser.Line(e[0][0],e[0][1],e[16][0],e[16][1]).length/100;headPhysicsSprite.scale.setTo(n,n),headPhysicsSprite.position={x:e[33][0]+userVideoGroup.position.x+userVideoSprite.position.x,y:e[33][1]+userVideoGroup.position.y+userVideoSprite.position.y},headPhysicsSprite.visible=!0,game.physics.arcade.collide(dogEmojiEmitter,headPhysicsSprite)}}else dogNose.visible=!1,dogEars.visible=!1,headPhysicsSprite.visible=!1}function drawTophatFilter(e){if(e){if(frame%K_AR_FRAME_INTERVAL==0){const i=new Phaser.Line(e[0][0]+userVideoGroup.position.x+userVideoSprite.position.x,e[0][1]+userVideoGroup.position.y+userVideoSprite.position.y,e[16][0]+userVideoGroup.position.x+userVideoSprite.position.x,e[16][1]+userVideoGroup.position.y+userVideoSprite.position.y),t=i.length,a=t/300,o=t/500,r=t/600,s=i.midPoint();let n=new Phaser.Line(s.x,s.y,0,0);n=n.fromAngle(s.x,s.y,i.angle-1.5708,.2*t),tophat.position=n.end,tophat.scale.setTo(a,a),tophat.rotation=i.angle,tophat.visible=!0;let l=[0,0];for(let i=0;i<K_FACE_RIGHT_EYE.length-1;i+=1)l[0]+=e[K_FACE_RIGHT_EYE[i]][0],l[1]+=e[K_FACE_RIGHT_EYE[i]][1];l[0]/=K_FACE_RIGHT_EYE.length-1,l[1]/=K_FACE_RIGHT_EYE.length-1,monocle.position={x:l[0]+userVideoGroup.position.x+userVideoSprite.position.x,y:l[1]+userVideoGroup.position.y+userVideoSprite.position.y},monocle.scale.setTo(o,o),monocle.rotation=i.angle,monocle.visible=!0,mustache.position={x:e[33][0]+userVideoGroup.position.x+userVideoSprite.position.x,y:e[33][1]+userVideoGroup.position.y+userVideoSprite.position.y},mustache.scale.setTo(r,r),mustache.rotation=i.angle,mustache.visible=!0}}else tophat.visible=!1,monocle.visible=!1,mustache.visible=!1}function drawPoorHatFilter(e){if(e){if(frame%K_AR_FRAME_INTERVAL==0){const i=new Phaser.Line(e[0][0]+userVideoGroup.position.x+userVideoSprite.position.x,e[0][1]+userVideoGroup.position.y+userVideoSprite.position.y,e[16][0]+userVideoGroup.position.x+userVideoSprite.position.x,e[16][1]+userVideoGroup.position.y+userVideoSprite.position.y),t=i.length,a=t/350,o=i.midPoint();let r=new Phaser.Line(o.x,o.y,0,0);r=r.fromAngle(o.x,o.y,i.angle-1.5708,.1*t),poorHat.position=r.end,poorHat.scale.setTo(a,a),poorHat.rotation=i.angle,poorHat.visible=!0}}else poorHat.visible=!1}function drawCrownFilter(e){if(e){if(frame%K_AR_FRAME_INTERVAL==0){const i=new Phaser.Line(e[0][0]+userVideoGroup.position.x+userVideoSprite.position.x,e[0][1]+userVideoGroup.position.y+userVideoSprite.position.y,e[16][0]+userVideoGroup.position.x+userVideoSprite.position.x,e[16][1]+userVideoGroup.position.y+userVideoSprite.position.y),t=i.length,a=t/250,o=i.midPoint();let r=new Phaser.Line(o.x,o.y,0,0);r=r.fromAngle(o.x,o.y,i.angle-1.5708,.2*t),crown.position=r.end,crown.scale.setTo(a,a),crown.rotation=i.angle,crown.visible=!0}}else crown.visible=!1}function drawHeartEyesFilter(e){if(e){if(frame%K_AR_FRAME_INTERVAL==0){let i=[0,0];for(let t=0;t<K_FACE_LEFT_EYE.length-1;t+=1)i[0]+=e[K_FACE_LEFT_EYE[t]][0],i[1]+=e[K_FACE_LEFT_EYE[t]][1];i[0]/=K_FACE_LEFT_EYE.length-1,i[1]/=K_FACE_LEFT_EYE.length-1;let t=[0,0];for(let i=0;i<K_FACE_RIGHT_EYE.length-1;i+=1)t[0]+=e[K_FACE_RIGHT_EYE[i]][0],t[1]+=e[K_FACE_RIGHT_EYE[i]][1];t[0]/=K_FACE_RIGHT_EYE.length-1,t[1]/=K_FACE_RIGHT_EYE.length-1;const a=new Phaser.Line(e[0][0]+userVideoGroup.position.x+userVideoSprite.position.x,e[0][1]+userVideoGroup.position.y+userVideoSprite.position.y,e[16][0]+userVideoGroup.position.x+userVideoSprite.position.x,e[16][1]+userVideoGroup.position.y+userVideoSprite.position.y),o=a.length/650;leftHeart.position={x:i[0]+userVideoGroup.position.x+userVideoSprite.position.x,y:i[1]+userVideoGroup.position.y+userVideoSprite.position.y},leftHeart.scale.setTo(o,o),leftHeart.rotation=a.angle,leftHeart.visible=!0,rightHeart.position={x:t[0]+userVideoGroup.position.x+userVideoSprite.position.x,y:t[1]+userVideoGroup.position.y+userVideoSprite.position.y},rightHeart.scale.setTo(o,o),rightHeart.rotation=a.angle,rightHeart.visible=!0}}else leftHeart.visible=!1,rightHeart.visible=!1}function drawProhibitedFilter(e){if(e){if(frame%K_AR_FRAME_INTERVAL==0){let i=[0,0];for(let t=0;t<K_FACE_LEFT_EYE.length-1;t+=1)i[0]+=e[K_FACE_LEFT_EYE[t]][0],i[1]+=e[K_FACE_LEFT_EYE[t]][1];i[0]/=K_FACE_LEFT_EYE.length-1,i[1]/=K_FACE_LEFT_EYE.length-1;let t=[0,0];for(let i=0;i<K_FACE_RIGHT_EYE.length-1;i+=1)t[0]+=e[K_FACE_RIGHT_EYE[i]][0],t[1]+=e[K_FACE_RIGHT_EYE[i]][1];t[0]/=K_FACE_RIGHT_EYE.length-1,t[1]/=K_FACE_RIGHT_EYE.length-1;const a=new Phaser.Line(e[0][0]+userVideoGroup.position.x+userVideoSprite.position.x,e[0][1]+userVideoGroup.position.y+userVideoSprite.position.y,e[16][0]+userVideoGroup.position.x+userVideoSprite.position.x,e[16][1]+userVideoGroup.position.y+userVideoSprite.position.y),o=a.length/650;leftProhibited.position={x:i[0]+userVideoGroup.position.x+userVideoSprite.position.x,y:i[1]+userVideoGroup.position.y+userVideoSprite.position.y},leftProhibited.scale.setTo(o,o),leftProhibited.rotation=a.angle,leftProhibited.visible=!0,rightProhibited.position={x:t[0]+userVideoGroup.position.x+userVideoSprite.position.x,y:t[1]+userVideoGroup.position.y+userVideoSprite.position.y},rightProhibited.scale.setTo(o,o),rightProhibited.rotation=a.angle,rightProhibited.visible=!0}}else leftProhibited.visible=!1,rightProhibited.visible=!1}function drawThoughtBubbleFilter(e,i){if(e){if(frame%K_AR_FRAME_INTERVAL==0){const t=new Phaser.Line(e[0][0]+userVideoGroup.position.x+userVideoSprite.position.x,e[0][1]+userVideoGroup.position.y+userVideoSprite.position.y,e[16][0]+userVideoGroup.position.x+userVideoSprite.position.x,e[16][1]+userVideoGroup.position.y+userVideoSprite.position.y),a=t.length/500;i.position={x:e[17][0]+userVideoGroup.position.x+userVideoSprite.position.x,y:e[17][1]+userVideoGroup.position.y+userVideoSprite.position.y},i.scale.setTo(a,a),i.rotation=t.angle,i.visible=!0}}else i.visible=!1}makeMultiFrameEvent(61,80,()=>{getEmotions=!0,threeTitle.visible=!0,landmarks&&(threeTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,threeTitle.y=landmarks[33][1])}),makeMultiFrameEvent(80,98,()=>{threeTitle.visible=!1,twoTitle.visible=!0,landmarks&&(twoTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,twoTitle.y=landmarks[33][1])}),makeMultiFrameEvent(98,121,()=>{twoTitle.visible=!1,oneTitle.visible=!0,landmarks&&(oneTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,oneTitle.y=landmarks[33][1])}),makeMultiFrameEvent(121,157,()=>{oneTitle.visible=!1,techQuizTitle.visible=!0,landmarks&&(techQuizTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,techQuizTitle.y=landmarks[33][1])}),makeMultiFrameEvent(157,158,()=>{techQuizTitle.visible=!1}),makeMultiFrameEvent(297,486,()=>{let e;zuckScreenSpaceSprite.visible=!0,e=frame<316?"zuck1":frame<330?"zuck2":frame<345?"zuck3":frame<358?"zuck4":frame<371?"zuck5":frame<378?"zuck6":frame<386?"zuck7":frame<392?"zuck8":frame<411?"zuck9":frame<438?"zuck10":"zuck11",landmarks&&(zuckAlertBoxPosition={x:K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2-337,y:landmarks[33][1]-140}),zuckScreenSpaceBMD.draw(e,zuckAlertBoxPosition.x,zuckAlertBoxPosition.y),zuckScreenSpaceBMD.dirty=!0}),makeMultiFrameEvent(486,585,()=>{if(zuckScreenSpaceSprite.visible=!1,landmarks){const e=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2+game.rnd.integerInRange(-175,175),i=landmarks[33][1]+game.rnd.integerInRange(-175,175),t=Phaser.Color.getRGB(Phaser.Color.getRandomColor()),a=Phaser.Color.RGBtoString(t.r,t.g,t.b,t.a,"#");for(let t=0;t<10;t+=1){const o=game.rnd.integerInRange(-Math.pow(5,t),Math.pow(5,t)),r=game.rnd.integerInRange(-Math.pow(5,t),Math.pow(5,t));questionMarks.push(game.add.text(e+o,i+r,"?",{font:"Arimo, sans-serif",fontSize:"150px",fontWeight:"bold",fill:a}))}}}),makeMultiFrameEvent(585,586,()=>{for(let e=0;e<questionMarks.length;e+=1)questionMarks[e].visible=!1;game.add.tween(filmSprite.position).to({x:K_PROJECT_WIDTH/4,y:0},200,Phaser.Easing.Linear.None,!0,0,0,!1);userVideoGroup.position.x=-.75*K_PROJECT_WIDTH,userVideoSprite.visible=!0,userVideoMaskQuarterRight.visible=!0;game.add.tween(userVideoGroup.position).to({x:-K_PROJECT_WIDTH/4,y:0},200,Phaser.Easing.Linear.None,!0,0,0,!1);drawDogFilter(landmarks)}),makeMultiFrameEvent(586,606,()=>{drawDogFilter(landmarks)}),makeMultiFrameEvent(606,607,()=>{dogPos=getAveragePositiveEmotions(validationStateFaceData,0,2e4),dogNeg=getAverageNegativeEmotions(validationStateFaceData,0,2e4),null!==dogPos&&null!==dogNeg&&(likeDogs=dogPos>=dogNeg,dogStats.text=likeDogs?`${(dogPos-dogNeg).toFixed(6)} \npositive `:`${(dogNeg-dogPos).toFixed(6)} \nnegative `,dogStats.fill=likeDogs?"#33cc33":"#ff0000",K_INSTALLATION_MODE&&socket.emit("dogs",[likeDogs,likeDogs?(dogPos-dogNeg).toFixed(6):(dogNeg-dogPos).toFixed(6)])),likeDogs?(dogEmojiEmitter.makeParticles("smileEmoji",0,K_EMOJI_EXPLOSION_PARTICLES,!0,!0),youLikeDogsSFX.play()):(dogEmojiEmitter.makeParticles("frownEmoji",0,K_EMOJI_EXPLOSION_PARTICLES,!0,!0),youDontLikeDogsSFX.play()),dogTextBox=makeTextBox(K_PROJECT_WIDTH/2-K_TEXT_BOX_SIZE/2,K_PROJECT_HEIGHT/2-K_TEXT_BOX_SIZE/2,"Your reaction to dog content"),dogStats.visible=!0,drawDogFilter(landmarks)}),makeMultiFrameEvent(607,655,()=>{drawDogFilter(landmarks)}),makeMultiFrameEvent(655,656,()=>{const e=700*Math.cos(1),i=700*Math.sin(1);dogEmojiEmitter.setXSpeed(e,4*e),dogEmojiEmitter.setYSpeed(i,4*i),dogEmojiEmitter.explode(5e3,K_EMOJI_EXPLOSION_PARTICLES),drawDogFilter(landmarks)}),makeMultiFrameEvent(656,1025,()=>{drawDogFilter(landmarks)}),makeMultiFrameEvent(1025,1026,()=>{dogTextBox.visible=!1,dogStats.visible=!1,dogNose.visible=!1,dogEars.visible=!1,headPhysicsSprite.visible=!1;game.add.tween(filmSprite.position).to({x:0,y:0},200,Phaser.Easing.Linear.None,!0,0,0,!1),game.add.tween(userVideoGroup.position).to({x:-.75*K_PROJECT_WIDTH,y:0},200,Phaser.Easing.Linear.None,!0,0,0,!1)}),makeMultiFrameEvent(1440,1441,()=>{menPos=getAveragePositiveEmotions(viewerFaceData,1025,1150),womenPos=getAveragePositiveEmotions(viewerFaceData,1226,1351),null!==menPos&&null!==womenPos&&(preferMen=menPos>=womenPos,genderStatsBias.text=preferMen?`+${(menPos-womenPos).toFixed(6)} \n male bias `:`+${(womenPos-menPos).toFixed(6)} \n female bias `,K_INSTALLATION_MODE&&socket.emit("gender",[preferMen,preferMen?(menPos-womenPos).toFixed(6):(womenPos-menPos).toFixed(6)])),preferMen?youPreferMenSFX.play():youPreferWomenSFX.play(),genderTextBox=makeTextBox(37,37,"Your reaction to men vs. women"),genderStatsBias.visible=!0}),makeMultiFrameEvent(1713,1714,()=>{genderTextBox.visible=!1,genderStatsBias.visible=!1;game.add.tween(kanyeTitle.position).to({x:K_PROJECT_WIDTH/2},300,Phaser.Easing.Linear.None,!0,0,0,!1),game.add.tween(kanyeBias.position).to({x:K_PROJECT_WIDTH/2},300,Phaser.Easing.Linear.None,!0,0,0,!1);K_INSTALLATION_MODE&&socket.emit("kanyeStart",!0)}),makeMultiFrameEvent(1714,1797,()=>{if(kanyePos=getAveragePositiveEmotions(viewerFaceData,1713,frame),kanyeNeg=getAverageNegativeEmotions(viewerFaceData,1713,frame),null!==kanyePos&&null!==kanyeNeg){const e=kanyePos-kanyeNeg;e>=0?(kanyeBias.text=`${e.toFixed(6)} positive`,kanyeBias.fill="#33cc33",likeKanye=!0):(kanyeBias.text=`${Math.abs(e).toFixed(6)} negative`,kanyeBias.fill="#ff0000",likeKanye=!1),K_INSTALLATION_MODE&&socket.emit("kanye",[likeKanye,Math.abs(e).toFixed(6)])}}),makeMultiFrameEvent(1797,1798,()=>{game.add.tween(kanyeTitle.position).to({x:-kanyeTitle.width/2},300,Phaser.Easing.Linear.None,!0,0,0,!1),game.add.tween(kanyeBias.position).to({x:K_PROJECT_WIDTH+kanyeTitle.width/2},300,Phaser.Easing.Linear.None,!0,0,0,!1);K_INSTALLATION_MODE&&socket.emit("kanyeEnd",!0)}),makeMultiFrameEvent(1808,1809,()=>{kanyeTitle.visible=!1,kanyeBias.visible=!1;game.add.tween(pizzaTitle.position).to({x:K_PROJECT_WIDTH/2},300,Phaser.Easing.Linear.None,!0,0,0,!1),game.add.tween(pizzaBias.position).to({x:K_PROJECT_WIDTH/2},300,Phaser.Easing.Linear.None,!0,0,0,!1);K_INSTALLATION_MODE&&socket.emit("pizzaStart",!0)}),makeMultiFrameEvent(1809,1971,()=>{const e=getAveragePositiveEmotions(viewerFaceData,1797,frame),i=getAverageNegativeEmotions(viewerFaceData,1797,frame);if(null!==e&&null!==i){const t=e-i;t>=0?(pizzaBias.text=`${t.toFixed(6)} positive`,pizzaBias.fill="#33cc33",likePizza=!0):(pizzaBias.text=`${Math.abs(t).toFixed(6)} negative`,pizzaBias.fill="#ff0000",likePizza=!1),K_INSTALLATION_MODE&&socket.emit("pizza",[likePizza,Math.abs(t).toFixed(6)])}}),makeMultiFrameEvent(1893,1894,()=>{let e,i,t;adGfx=game.add.graphics(0,0),likeKanye?(e="LOVE KANYE?",i="https://kanye-lovers-only.com",t="Since you love Kanye, we're ONLY giving you access to FAVORABLE Kanye content! Click here for takes that align with your worldview!"):(e="HATE KANYE?",i="https://kanye-haters-only.com",t="Since you hate Kanye, we're ONLY giving you access to UNFAVORABLE Kanye content! Click here for takes that align with your worldview!"),deserveAds.push(makeAd(15,30,e,i,t))}),makeMultiFrameEvent(1909,1910,()=>{let e,i,t;likePizza?(e="WE KNOW YOU LIKE PIZZA!",i="https://pizza-positive.com",t="You like pizza, so you need to see PIZZA ONLY!"):(e="YOU DON'T LIKE PIZZA!",i="https://zero-pizza-tolerated.org",t="It's important that you ONLY see content for PIZZA HATERS such as yourself."),deserveAds.push(makeAd(150,225,e,i,t))}),makeMultiFrameEvent(1928,1929,()=>{let e,i,t;likePizza?(e="PIZZA? THAT'S ALL YOU",i="https://pizza-is-good.net",t="Since you <3 pizza, here's endless pizza content."):(e="PIZZA? PASS",i="https://down-with-pizza.co",t="Pizza is disgusting, and you're one of the people who understands that. Click here to enter the pizza-negative ideaology bubble."),deserveAds.push(makeAd(800,450,e,i,t))}),makeMultiFrameEvent(1938,1939,()=>{let e,i,t;likeKanye?(e="KANYE IS GOOD",i="https://kanye-is-a-good-celebrity.org",t="The rules are simple: You have a positive perspective on Kanye. We bias your internet experience to feature more Kanye."):(e="KANYE IS NOT GOOD",i="https://kanye-is-not-good.org",t="You personally do not care for Kanye. We honor that by only showing you content that does not challenge your ideas."),deserveAds.push(makeAd(640,7,e,i,t))}),makeMultiFrameEvent(1948,1949,()=>{let e,i,t;likePizza?(e="PIZZA FAN DETECTED",i="https://yes-to-pizza.com",t="We have something in common: You know you like pizza, and WE know you like pizza. That's why you're seeing this ad."):(e="PIZZA HATER DETECTED",i="https://no-to-pizza.com",t="We have something in common: You know you dislike pizza, and WE know you dislike pizza. That's why you're seeing this ad."),deserveAds.push(makeAd(75,520,e,i,t))}),makeMultiFrameEvent(1971,1972,()=>{pizzaTitle.visible=!1,pizzaBias.visible=!1,adGfx.clear();for(let e=0;e<deserveAds.length;e+=1)deserveAds[e].visible=!1;landmarks&&(standbyForAIVisionTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,standbyForAIVisionTitle.y=landmarks[33][1]),standbyForAIVisionTitle.visible=!0,K_INSTALLATION_MODE&&socket.emit("pizzaEnd",!0)}),makeMultiFrameEvent(1972,2125,()=>{landmarks&&(standbyForAIVisionTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,standbyForAIVisionTitle.y=landmarks[33][1])}),makeMultiFrameEvent(2125,2278,()=>{if(standbyForAIVisionTitle.visible=!1,userVideoGroup.position.x=0,userVideoSprite.visible=!0,userVideoSprite.mask=null,userVideoProcessedSprite.visible=!0,userVideoProcessedSprite.mask=null,userVideoMaskQuarterRight.visible=!1,gameframe%K_VIDEO_PROCESSING_FRAME_INTERVAL==0||2125===frame){const e=1/K_VIDEO_PROCESSING_DOWNRES_FACTOR*1.5;userVideoProcessedBMD.copy(userVideoSprite,0,0,Math.floor(userVideo.width),Math.floor(userVideo.height),0,0,void 0,void 0,0,0,0,e,e,1,null,!0),userVideoProcessedBMD.update(),userVideoProcessedBMD.processPixelRGB(e=>{return.2126*e.r+.7152*e.g+.0722*e.b<125?{r:0,g:0,b:0,a:255}:{r:255,g:255,b:255,a:255}},this)}if(boundingBox.visible=!0,boundingBox.clear(),boundingBox.lineStyle(5,8453888,1),landmarks){const e=new Phaser.Line(landmarks[0][0],landmarks[0][1],landmarks[16][0],landmarks[16][1]).length,i=landmarks[33][0]+userVideoGroup.position.x+userVideoSprite.position.x-e/2,t=landmarks[33][1]+userVideoGroup.position.y+userVideoSprite.position.y-e/2;boundingBox.position={x:i,y:t},boundingBox.drawRect(0,0,e,e),lastKnownFaceBounding={x:(i-userVideoGroup.position.x-userVideoSprite.position.x)/K_VIDEO_PROCESSING_DOWNRES_FACTOR,y:(t-userVideoGroup.position.y-userVideoSprite.position.y)/K_VIDEO_PROCESSING_DOWNRES_FACTOR,size:Math.floor(e/K_VIDEO_PROCESSING_DOWNRES_FACTOR)}}}),makeMultiFrameEvent(2278,2279,()=>{let e,i,t,a;game.camera.flash(16777215,500,!1),null!==lastKnownFaceBounding.x&&lastKnownFaceBounding.x>=0&&lastKnownFaceBounding.x+lastKnownFaceBounding.size<userVideoSprite.width/K_VIDEO_PROCESSING_DOWNRES_FACTOR-1&&null!==lastKnownFaceBounding.y&&lastKnownFaceBounding.y>=0&&lastKnownFaceBounding.y+lastKnownFaceBounding.size<userVideoSprite.height/K_VIDEO_PROCESSING_DOWNRES_FACTOR-1&&null!==lastKnownFaceBounding.size?(e=lastKnownFaceBounding.y,i=lastKnownFaceBounding.y+lastKnownFaceBounding.size,t=lastKnownFaceBounding.x,a=lastKnownFaceBounding.x+lastKnownFaceBounding.size,userPhotoBMD=game.add.bitmapData(Math.round(lastKnownFaceBounding.size),Math.round(lastKnownFaceBounding.size))):(e=userVideoProcessedBMD.height/2-userVideoProcessedBMD.height/4,i=userVideoProcessedBMD.height/2+userVideoProcessedBMD.height/4,t=userVideoProcessedBMD.width/2-userVideoProcessedBMD.width/4,a=userVideoProcessedBMD.width/2+userVideoProcessedBMD.width/4,userPhotoBMD=game.add.bitmapData(Math.round(userVideoProcessedBMD.width/2),Math.round(userVideoProcessedBMD.height/2))),userPhotoBMD.copy(userVideoProcessedSprite,t,e,a-t-1,i-e-1,0,0,void 0,void 0,void 0,void 0,void 0,1,1,void 0,null,!0),userPhotoBMD.update(),userPhotoSprite=game.add.sprite(K_PROJECT_WIDTH/2,K_PROJECT_HEIGHT/2,userPhotoBMD),userPhotoSprite.anchor.setTo(.5,.5),midgroundGroup.add(userPhotoSprite),userPhotoScale=.67*pictureFrameSprite.height/userPhotoSprite.height,userPhotoSprite.scale.setTo(userPhotoScale,userPhotoScale),boundingBox.visible=!1,userVideoSprite.visible=!1,userVideoProcessedSprite.visible=!1,userVideoSprite.mask=userVideoMaskQuarterRight,userVideoProcessedSprite.mask=userVideoMaskQuarterRight,userVideoGroup.position.x=-K_PROJECT_WIDTH,userVideoMaskQuarterRight.visible=!0,gradient1Sprite.visible=!0,pictureFrameSprite.visible=!0,museumCardSprite.visible=!0}),makeMultiFrameEvent(2377,2378,()=>{for(let e=0;e<userPhotoSprite.height;e+=10)for(let i=0;i<userPhotoSprite.width;i+=10){let t,a;255===userPhotoBMD.getPixel(Math.round(i/userPhotoScale),Math.round(e/userPhotoScale)).r?(t="0",a="#bfbfbf"):(t="1",a="#000000");const o=userPhotoSprite.x-userPhotoSprite.width/2+i,r=userPhotoSprite.y-userPhotoSprite.height/2+e,s=game.add.text(o,r,t,{font:"Arimo, sans-serif",fontSize:"8px",fontWeight:"bold",fill:a});s.anchor.setTo(.5,.5),pixelValuesGroup.add(s)}userPhotoZoomTimer=game.time.create(!1);let e=1;userPhotoZoomTimer.loop(50,()=>{game.camera.scale.setTo(e,e),game.camera.x+=K_PROJECT_WIDTH/2*.03,game.camera.y+=K_PROJECT_HEIGHT/2*.03,e+=.03},this),userPhotoZoomTimer.start();game.add.tween(userPhotoSprite).to({alpha:0},3e3,Phaser.Easing.Linear.None,!0,1500,0,!1)}),makeMultiFrameEvent(2568,2569,()=>{userPhotoZoomTimer.stop(),game.camera.scale.setTo(1,1),game.camera.x=0,game.camera.y=0,gradientBackgroundGroup.visible=!1,pixelValuesGroup.visible=!1,userPhotoSprite.visible=!1,pictureFrameSprite.visible=!1,museumCardSprite.visible=!1}),makeMultiFrameEvent(2828,2883,()=>{actualImagesUsedToTrainTitle.visible=!0,trainingImageCelebrityTitle.visible=!0,landmarks&&(trainingImageCelebrityTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,trainingImageCelebrityTitle.y=landmarks[33][1])}),makeMultiFrameEvent(2883,2884,()=>{trainingImageCelebrityTitle.text="(andre agassi) \n",trainingImageCelebrityTitle.fill="#ff33cc",landmarks&&(trainingImageCelebrityTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,trainingImageCelebrityTitle.y=landmarks[33][1])}),makeMultiFrameEvent(2884,2938,()=>{landmarks&&(trainingImageCelebrityTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,trainingImageCelebrityTitle.y=landmarks[33][1])}),makeMultiFrameEvent(2938,2939,()=>{trainingImageCelebrityTitle.text="(andy dick) \n",trainingImageCelebrityTitle.fill="#00ffff",landmarks&&(trainingImageCelebrityTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,trainingImageCelebrityTitle.y=landmarks[33][1])}),makeMultiFrameEvent(2939,2995,()=>{landmarks&&(trainingImageCelebrityTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,trainingImageCelebrityTitle.y=landmarks[33][1])}),makeMultiFrameEvent(2995,2996,()=>{trainingImageCelebrityTitle.text="(carson daly) \n",trainingImageCelebrityTitle.fill="#66ff33",landmarks&&(trainingImageCelebrityTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,trainingImageCelebrityTitle.y=landmarks[33][1])}),makeMultiFrameEvent(2996,3051,()=>{landmarks&&(trainingImageCelebrityTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,trainingImageCelebrityTitle.y=landmarks[33][1])}),makeMultiFrameEvent(3051,3052,()=>{trainingImageCelebrityTitle.text="(christina aguilera) \n",trainingImageCelebrityTitle.fill="#ff0000",landmarks&&(trainingImageCelebrityTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,trainingImageCelebrityTitle.y=landmarks[33][1])}),makeMultiFrameEvent(3052,3128,()=>{landmarks&&(trainingImageCelebrityTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,trainingImageCelebrityTitle.y=landmarks[33][1])}),makeMultiFrameEvent(3128,3129,()=>{trainingImageCelebrityTitle.text="(fred durst) \n",trainingImageCelebrityTitle.fill="#ff9933",landmarks&&(trainingImageCelebrityTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,trainingImageCelebrityTitle.y=landmarks[33][1])}),makeMultiFrameEvent(3129,3206,()=>{landmarks&&(trainingImageCelebrityTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,trainingImageCelebrityTitle.y=landmarks[33][1])}),makeMultiFrameEvent(3206,3207,()=>{trainingImageCelebrityTitle.text="(heidi fleiss) \n",trainingImageCelebrityTitle.fill="#cc33ff",landmarks&&(trainingImageCelebrityTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,trainingImageCelebrityTitle.y=landmarks[33][1])}),makeMultiFrameEvent(3207,3276,()=>{landmarks&&(trainingImageCelebrityTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,trainingImageCelebrityTitle.y=landmarks[33][1])}),makeMultiFrameEvent(3276,3277,()=>{trainingImageCelebrityTitle.text="(jerry springer) \n",trainingImageCelebrityTitle.fill="#3333ff",landmarks&&(trainingImageCelebrityTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,trainingImageCelebrityTitle.y=landmarks[33][1])}),makeMultiFrameEvent(3277,3363,()=>{landmarks&&(trainingImageCelebrityTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,trainingImageCelebrityTitle.y=landmarks[33][1])}),makeMultiFrameEvent(3363,3364,()=>{actualImagesUsedToTrainTitle.visible=!1,trainingImageCelebrityTitle.visible=!1;game.add.tween(filmSprite.position).to({x:K_PROJECT_WIDTH/4,y:0},200,Phaser.Easing.Linear.None,!0,0,0,!1);userVideoGroup.position.x=-.75*K_PROJECT_WIDTH,userVideoSprite.visible=!0,userVideoMaskQuarterRight.visible=!0;game.add.tween(userVideoGroup.position).to({x:-K_PROJECT_WIDTH/4,y:0},200,Phaser.Easing.Linear.None,!0,0,0,!1);drawTophatFilter(landmarks)}),makeMultiFrameEvent(3364,3450,()=>{drawTophatFilter(landmarks)}),makeMultiFrameEvent(3450,3451,()=>{altUserVideoGroup.position.x=K_PROJECT_WIDTH,userVideoProcessedSpriteLeftMask.visible=!0,userVideoMaskQuarterLeft.visible=!0;game.add.tween(altUserVideoGroup.position).to({x:K_PROJECT_WIDTH/2-K_PROJECT_WIDTH/4,y:0},200,Phaser.Easing.Linear.None,!0,0,0,!1);if(gameframe%K_VIDEO_PROCESSING_FRAME_INTERVAL==0||3450===frame){const e=1/K_VIDEO_PROCESSING_DOWNRES_FACTOR*1.5;userVideoProcessedBMD.copy(userVideoSprite,0,0,Math.floor(userVideo.width),Math.floor(userVideo.height),0,0,void 0,void 0,void 0,void 0,void 0,e,e,void 0,null,!0),userVideoProcessedBMD.update(),userVideoProcessedBMD.processPixelRGB(e=>{const i=.2126*e.r+.7152*e.g+.0722*e.b;return{r:i,g:i,b:i,a:255}},this)}if(landmarks)for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!0,landmarkText[e].position={x:landmarks[e][0]+altUserVideoGroup.position.x+userVideoProcessedSpriteLeftMask.position.x,y:landmarks[e][1]+altUserVideoGroup.position.y+userVideoProcessedSpriteLeftMask.position.y};else for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!1;drawTophatFilter(landmarks)}),makeMultiFrameEvent(3451,3732,()=>{if(gameframe%K_VIDEO_PROCESSING_FRAME_INTERVAL==0){const e=1/K_VIDEO_PROCESSING_DOWNRES_FACTOR*1.5;userVideoProcessedBMD.copy(userVideoSprite,0,0,Math.floor(userVideo.width),Math.floor(userVideo.height),0,0,void 0,void 0,void 0,void 0,void 0,e,e,void 0,null,!0),userVideoProcessedBMD.update(),userVideoProcessedBMD.processPixelRGB(e=>{const i=.2126*e.r+.7152*e.g+.0722*e.b;return{r:i,g:i,b:i,a:255}},this)}if(landmarks)for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!0,landmarkText[e].position={x:landmarks[e][0]+altUserVideoGroup.position.x+userVideoProcessedSpriteLeftMask.position.x,y:landmarks[e][1]+altUserVideoGroup.position.y+userVideoProcessedSpriteLeftMask.position.y};else for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!1;drawTophatFilter(landmarks)}),makeMultiFrameEvent(3732,3733,()=>{getLandmarks=!1,recordedFeatureGroup.position.x=-K_PROJECT_WIDTH/2,gradient2Sprite.visible=!0,recordingOfYourFaceTitle.visible=!0;game.add.tween(recordedFeatureGroup.position).to({x:0,y:0},200,Phaser.Easing.Linear.None,!0,0,0,!1);landmarkPlaybackTimer=game.time.create(!1);let e=0;const i=[];for(let e=0;e<viewerFaceData.length;e+=1)null!==viewerFaceData[e].landmarks&&i.push(viewerFaceData[e]);if(landmarkPlaybackTimer.loop(60,()=>{if(i.length>0){e>i.length-1&&(e=0);const t=i[e];recordingOfYourFaceTitle.text=`Your face vectors \nrecorded ${((frame-t.frame)/30).toFixed(1)} seconds ago `;for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)recordedLandmarkText[e].visible=!0,recordedLandmarkText[e].position={x:t.landmarks[e][0]+userVideoGroup.position.x+userVideoSprite.position.x,y:t.landmarks[e][1]+userVideoGroup.position.y+userVideoSprite.position.y};e+=4}},this),landmarkPlaybackTimer.start(),gameframe%K_VIDEO_PROCESSING_FRAME_INTERVAL==0){const e=1/K_VIDEO_PROCESSING_DOWNRES_FACTOR*1.5;userVideoProcessedBMD.copy(userVideoSprite,0,0,Math.floor(userVideo.width),Math.floor(userVideo.height),0,0,void 0,void 0,void 0,void 0,void 0,e,e,void 0,null,!0),userVideoProcessedBMD.update(),userVideoProcessedBMD.processPixelRGB(e=>{const i=.2126*e.r+.7152*e.g+.0722*e.b;return{r:i,g:i,b:i,a:255}},this)}if(landmarks)for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!0,landmarkText[e].position={x:landmarks[e][0]+altUserVideoGroup.position.x+userVideoProcessedSpriteLeftMask.position.x,y:landmarks[e][1]+altUserVideoGroup.position.y+userVideoProcessedSpriteLeftMask.position.y};else for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!1;drawTophatFilter(landmarks)}),makeMultiFrameEvent(3733,3743,()=>{if(gameframe%K_VIDEO_PROCESSING_FRAME_INTERVAL==0){const e=1/K_VIDEO_PROCESSING_DOWNRES_FACTOR*1.5;userVideoProcessedBMD.copy(userVideoSprite,0,0,Math.floor(userVideo.width),Math.floor(userVideo.height),0,0,void 0,void 0,void 0,void 0,void 0,e,e,void 0,null,!0),userVideoProcessedBMD.update(),userVideoProcessedBMD.processPixelRGB(e=>{const i=.2126*e.r+.7152*e.g+.0722*e.b;return{r:i,g:i,b:i,a:255}},this)}if(landmarks)for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!0,landmarkText[e].position={x:landmarks[e][0]+altUserVideoGroup.position.x+userVideoProcessedSpriteLeftMask.position.x,y:landmarks[e][1]+altUserVideoGroup.position.y+userVideoProcessedSpriteLeftMask.position.y};else for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!1;drawTophatFilter(landmarks)}),makeMultiFrameEvent(3743,3912,()=>{if(tophat.visible=!1,monocle.visible=!1,mustache.visible=!1,gameframe%K_VIDEO_PROCESSING_FRAME_INTERVAL==0){const e=1/K_VIDEO_PROCESSING_DOWNRES_FACTOR*1.5;userVideoProcessedBMD.copy(userVideoSprite,0,0,Math.floor(userVideo.width),Math.floor(userVideo.height),0,0,void 0,void 0,void 0,void 0,void 0,e,e,void 0,null,!0),userVideoProcessedBMD.update(),userVideoProcessedBMD.processPixelRGB(e=>{const i=.2126*e.r+.7152*e.g+.0722*e.b;return{r:i,g:i,b:i,a:255}},this)}if(landmarks)for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!0,landmarkText[e].position={x:landmarks[e][0]+altUserVideoGroup.position.x+userVideoProcessedSpriteLeftMask.position.x,y:landmarks[e][1]+altUserVideoGroup.position.y+userVideoProcessedSpriteLeftMask.position.y};else for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!1}),makeMultiFrameEvent(3912,3913,()=>{if(game.add.tween(altUserVideoGroup.position).to({x:K_PROJECT_WIDTH,y:0},200,Phaser.Easing.Linear.None,!0,0,0,!1).onComplete.addOnce(()=>{userVideoProcessedSpriteLeftMask.visible=!1,userVideoMaskQuarterLeft.visible=!1}),gameframe%K_VIDEO_PROCESSING_FRAME_INTERVAL==0){const e=1/K_VIDEO_PROCESSING_DOWNRES_FACTOR*1.5;userVideoProcessedBMD.copy(userVideoSprite,0,0,Math.floor(userVideo.width),Math.floor(userVideo.height),0,0,void 0,void 0,void 0,void 0,void 0,e,e,void 0,null,!0),userVideoProcessedBMD.update(),userVideoProcessedBMD.processPixelRGB(e=>{const i=.2126*e.r+.7152*e.g+.0722*e.b;return{r:i,g:i,b:i,a:255}},this)}if(landmarks)for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!0,landmarkText[e].position={x:landmarks[e][0]+altUserVideoGroup.position.x+userVideoProcessedSpriteLeftMask.position.x,y:landmarks[e][1]+altUserVideoGroup.position.y+userVideoProcessedSpriteLeftMask.position.y};else for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!1}),makeMultiFrameEvent(3913,3921,()=>{if(gameframe%K_VIDEO_PROCESSING_FRAME_INTERVAL==0){const e=1/K_VIDEO_PROCESSING_DOWNRES_FACTOR*1.5;userVideoProcessedBMD.copy(userVideoSprite,0,0,Math.floor(userVideo.width),Math.floor(userVideo.height),0,0,void 0,void 0,void 0,void 0,void 0,e,e,void 0,null,!0),userVideoProcessedBMD.update(),userVideoProcessedBMD.processPixelRGB(e=>{const i=.2126*e.r+.7152*e.g+.0722*e.b;return{r:i,g:i,b:i,a:255}},this)}if(landmarks)for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!0,landmarkText[e].position={x:landmarks[e][0]+altUserVideoGroup.position.x+userVideoProcessedSpriteLeftMask.position.x,y:landmarks[e][1]+altUserVideoGroup.position.y+userVideoProcessedSpriteLeftMask.position.y};else for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!1}),makeMultiFrameEvent(4053,4054,()=>{for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!1;userVideoGroup.position={x:-K_PROJECT_WIDTH/4,y:0},userVideoProcessedSprite.visible=!1,userVideoSprite.visible=!0,dimmerScreen.visible=!0,game.add.tween(recordedFeatureGroup.position).to({x:-K_PROJECT_WIDTH/2,y:0},200,Phaser.Easing.Linear.None,!0,0,0,!1).onComplete.addOnce(()=>{landmarkPlaybackTimer.stop(),gradient2Sprite.visible=!0,recordingOfYourFaceTitle.visible=!0;for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)recordedLandmarkText[e].visible=!1;getLandmarks=!0}),landmarks?(drawFaceModel(landmarks),drawEmotionChart()):(faceModel.clear(),emotionChart.clear(),angryLabelText.visible=!1,sadLabelText.visible=!1,surprisedLabelText.visible=!1,happyLabelText.visible=!1),instructionsTitle.visible=!0,instructionsBlinkTimer=game.time.create(!1),instructionsBlinkTimer.loop(100,()=>{instructionsTitle.visible=!instructionsTitle.visible}),instructionsBlinkTimer.start()}),makeMultiFrameEvent(4054,4145,()=>{landmarks?(drawFaceModel(landmarks),drawEmotionChart()):(faceModel.clear(),emotionChart.clear(),angryLabelText.visible=!1,sadLabelText.visible=!1,surprisedLabelText.visible=!1,happyLabelText.visible=!1)}),makeMultiFrameEvent(4145,4146,()=>{instructionsTitle.text="frown!!!",landmarks?(drawFaceModel(landmarks),drawEmotionChart()):(faceModel.clear(),emotionChart.clear(),angryLabelText.visible=!1,sadLabelText.visible=!1,surprisedLabelText.visible=!1,happyLabelText.visible=!1)}),makeMultiFrameEvent(4146,4297,()=>{landmarks?(drawFaceModel(landmarks),drawEmotionChart()):(faceModel.clear(),emotionChart.clear(),angryLabelText.visible=!1,sadLabelText.visible=!1,surprisedLabelText.visible=!1,happyLabelText.visible=!1)}),makeMultiFrameEvent(4297,4298,()=>{getLandmarks=!1,overlayGroup.position={x:0,y:K_PROJECT_HEIGHT},gradient3Sprite.visible=!0,yourMouthShapeTitle.visible=!0,mouthQuantificationTitle.visible=!0,mouthModel.visible=!0;const e=game.add.tween(overlayGroup.position).to({x:0,y:0},300,Phaser.Easing.Linear.None,!0,0,0,!1);mouthPlaybackTimer=game.time.create(!1);let i=0;const t=[];for(let e=0;e<viewerFaceData.length;e+=1)viewerFaceData[e].frame>=4053&&viewerFaceData[e].frame<4234&&t.push(viewerFaceData[e]);mouthPlaybackTimer.loop(60,()=>{if(t.length>0){i>t.length-1&&(i=0);const e=t[i].landmarks;if(e){drawBigMouthModel(e);const a=t[i];a.sad&&(mouthQuantificationTitle.text=`${a.neutral.toFixed(6)} neutral\n${a.happy.toFixed(6)} happy\n${a.sad.toFixed(6)} sad\n${a.angry.toFixed(6)} angry\n${a.fearful.toFixed(6)} fearful\n${a.disgusted.toFixed(6)} disgusted\n${a.surprised.toFixed(6)} surprised`)}i+=1}},this),mouthPlaybackTimer.start(),e.onComplete.addOnce(()=>{instructionsBlinkTimer.stop(),instructionsTitle.visible=!1}),landmarks?(drawFaceModel(landmarks),drawEmotionChart()):(faceModel.clear(),emotionChart.clear(),angryLabelText.visible=!1,sadLabelText.visible=!1,surprisedLabelText.visible=!1,happyLabelText.visible=!1)}),makeMultiFrameEvent(4298,4314,()=>{landmarks?(drawFaceModel(landmarks),drawEmotionChart()):(faceModel.clear(),emotionChart.clear(),angryLabelText.visible=!1,sadLabelText.visible=!1,surprisedLabelText.visible=!1,happyLabelText.visible=!1)}),makeMultiFrameEvent(4512,4513,()=>{userVideoGroup.position.x=-.75*K_PROJECT_WIDTH,filmSprite.position.x=0,userVideo.visible=!1,dimmerScreen.visible=!1,gradient3Sprite.visible=!1,yourMouthShapeTitle.visible=!1,mouthQuantificationTitle.visible=!1,mouthModel.visible=!1,mouthPlaybackTimer.stop()}),makeMultiFrameEvent(5246,5247,()=>{noTitle.visible=!0,landmarks&&(noTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,noTitle.y=landmarks[33][1]),noBlinkTimer=game.time.create(!1),noBlinkTimer.loop(200,()=>{noTitle.visible=!noTitle.visible}),noBlinkTimer.start()}),makeMultiFrameEvent(5247,5330,()=>{landmarks&&(noTitle.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,noTitle.y=landmarks[33][1])}),makeMultiFrameEvent(5330,5331,()=>{noBlinkTimer.stop(),noTitle.visible=!1}),makeMultiFrameEvent(5821,5822,()=>{whiteNegative=getAverageNegativeEmotions(viewerFaceData,5596,5660),nonWhiteNegative=getAverageNegativeEmotions(viewerFaceData,5671,5735),null!==whiteNegative&&null!==nonWhiteNegative&&(preferWhite=whiteNegative<=nonWhiteNegative,finalRaceBias=preferWhite?nonWhiteNegative-whiteNegative:whiteNegative-nonWhiteNegative,raceStatsBias.text=preferWhite?`+${finalRaceBias.toFixed(6)} \nwhite bias `:`+${finalRaceBias.toFixed(6)} \nBlack bias `,K_INSTALLATION_MODE&&socket.emit("race",[preferWhite,finalRaceBias.toFixed(6)])),preferWhite?youPreferWhitePeopleSFX.play():youPreferBlackPeopleSFX.play(),raceTextBox=makeTextBox(37,37,"Your reaction to white vs. Black people"),raceStatsBias.visible=!0}),makeMultiFrameEvent(6107,6108,()=>{game.camera.fade(0,1e3),game.camera.onFadeComplete.addOnce(()=>{raceTextBox.visible=!1,raceStatsBias.visible=!1,game.camera.resetFX()})}),makeMultiFrameEvent(6137,6138,()=>{if(null!==whiteNegative&&null!==nonWhiteNegative){let e=50+15*(((whiteNegative-nonWhiteNegative+1)/2-.5)/.01);e>100?e=100:e<0&&(e=0);let i=100-e;i>=e?(higherOrderQuantificationLeftPercent.fill="#33cc33",higherOrderQuantificationRightPercent.fill="#ff0000"):(higherOrderQuantificationLeftPercent.fill="#ff0000",higherOrderQuantificationRightPercent.fill="#33cc33"),higherOrderQuantificationLeftPercent.text=`${i.toFixed(1)}% `,higherOrderQuantificationRightPercent.text=`${e.toFixed(1)}% `,K_INSTALLATION_MODE&&socket.emit("datingPreference",[i.toFixed(1),e.toFixed(1)])}higherOrderQuantificationTitle.visible=!0,higherOrderQuantificationTitle.position={x:K_PROJECT_WIDTH/2,y:K_PROJECT_HEIGHT/2},higherOrderTextBoxLeft=makeTextBox(K_PROJECT_WIDTH/4-K_TEXT_BOX_SIZE/2,K_PROJECT_HEIGHT/2-K_TEXT_BOX_SIZE/2,"White\nprofiles"),higherOrderTextBoxRight=makeTextBox(.75*K_PROJECT_WIDTH-K_TEXT_BOX_SIZE/2,K_PROJECT_HEIGHT/2-K_TEXT_BOX_SIZE/2,"Non-white profiles"),higherOrderQuantificationLeftPercent.visible=!0,higherOrderQuantificationRightPercent.visible=!0}),makeMultiFrameEvent(6260,6261,()=>{if(null!==kanyePos&&null!==kanyeNeg){let e=50+15*(((kanyePos-kanyeNeg+1)/2-.5)/.01);e>100?e=100:e<0&&(e=0);let i=100-e;i>=e?(higherOrderQuantificationLeftPercent.fill="#33cc33",higherOrderQuantificationRightPercent.fill="#ff0000"):(higherOrderQuantificationLeftPercent.fill="#ff0000",higherOrderQuantificationRightPercent.fill="#33cc33"),higherOrderQuantificationLeftPercent.text=`${i.toFixed(1)}% `,higherOrderQuantificationRightPercent.text=`${e.toFixed(1)}% `,K_INSTALLATION_MODE&&socket.emit("socialNews",[i.toFixed(1),e.toFixed(1)])}higherOrderQuantificationTitle.text="your \nfeed \nwill \nshow ",higherOrderQuantificationTitle.position={x:K_PROJECT_WIDTH/2,y:K_PROJECT_HEIGHT/2},higherOrderTextBoxLeft.copyText.text="Political analysis",higherOrderTextBoxRight.copyText.text="Celebrity\ngossip"}),makeMultiFrameEvent(6391,6392,()=>{if(null!==dogPos&&null!==kanyePos&&null!==nonWhiteNegative){const e=(dogPos+kanyePos+nonWhiteNegative)/3;republicanPct=50+15*((e-.05)/.1),republicanPct>100?republicanPct=100:republicanPct<0&&(republicanPct=0),democratPct=100-republicanPct,higherOrderQuantificationLeftPercent.text=`${democratPct.toFixed(1)}% `,higherOrderQuantificationRightPercent.text=`${republicanPct.toFixed(1)}% `,higherOrderQuantificationLeftPercent.fill=democratPct>republicanPct?"#33cc33":"#ff0000",higherOrderQuantificationRightPercent.fill=democratPct>republicanPct?"#ff0000":"#33cc33",K_INSTALLATION_MODE&&socket.emit("politicalOrientation",[democratPct.toFixed(1),republicanPct.toFixed(1)])}higherOrderQuantificationTitle.text="your \npolit- \nical \nprofile ",higherOrderQuantificationTitle.position={x:K_PROJECT_WIDTH/2,y:K_PROJECT_HEIGHT/2},higherOrderTextBoxLeft.copyText.text="Left leaning",higherOrderTextBoxRight.copyText.text="Right leaning"}),makeMultiFrameEvent(6615,6616,()=>{higherOrderQuantificationTitle.visible=!1,higherOrderQuantificationLeftPercent.visible=!1,higherOrderQuantificationRightPercent.visible=!1,higherOrderTextBoxLeft.visible=!1,higherOrderTextBoxRight.visible=!1,faceModel.clear(),emotionChart.clear(),angryLabelText.visible=!1,sadLabelText.visible=!1,surprisedLabelText.visible=!1,happyLabelText.visible=!1}),makeMultiFrameEvent(6731,6732,()=>{screenSpaceUserLocation={x:1015,y:482},mapGroup.position.x=K_PROJECT_WIDTH,springStudiosMap.visible=!0,userVideoGroup.position.x=-.75*K_PROJECT_WIDTH,userVideoSprite.visible=!0,userVideoMaskQuarterRight.visible=!0,mapGfx.visible=!0,boundingBox.clear(),boundingBox.visible=!0,mapEmotionLabel.position.x=.75*K_PROJECT_WIDTH-K_PROJECT_WIDTH/2,mapEmotionLabel.position.y=K_PROJECT_HEIGHT/2,dollarEmitter.position.x=mapEmotionLabel.position.x,dollarEmitter.position.y=mapEmotionLabel.position.y,mapGfx.lineStyle(3,16777215,1),mapGfx.beginFill(39423),mapGfx.drawCircle(screenSpaceUserLocation.x,screenSpaceUserLocation.y,50),mapGfx.endFill();game.add.tween(userVideoGroup.position).to({x:-K_PROJECT_WIDTH/4,y:0},200,Phaser.Easing.Linear.None,!0,0,0,!1),game.add.tween(mapGroup.position).to({x:K_PROJECT_WIDTH/2,y:0},200,Phaser.Easing.Linear.None,!0,0,0,!1);mapBlinkTimer=game.time.create(!1),mapBlinkTimer.loop(1e3,()=>{if(mapEmotionLabel.visible)mapEmotionLabel.visible=!1;else{if(emotions){let e=0,i=0;for(let[t,a]of Object.entries(emotions))a>i&&(i=a,e=t);mapEmotionLabel.text=`feels ${e} `}mapEmotionLabel.visible=!0,kachingSFX.play(),dollarEmitter.emitParticle()}}),mapBlinkTimer.start()}),makeMultiFrameEvent(6732,7222,()=>{if(mapGfx.clear(),boundingBox.clear(),mapGfx.lineStyle(4,16777215,1),mapGfx.beginFill(39423),mapGfx.drawCircle(screenSpaceUserLocation.x,screenSpaceUserLocation.y,50),mapGfx.endFill(),landmarks){const e=new Phaser.Line(landmarks[0][0],landmarks[0][1],landmarks[16][0],landmarks[16][1]).length,i=landmarks[33][0]+userVideoGroup.position.x+userVideoSprite.position.x-e/2,t=landmarks[33][1]+userVideoGroup.position.y+userVideoSprite.position.y-e/2;boundingBox.clear(),boundingBox.lineStyle(14,39423,1),boundingBox.position={x:i,y:t},boundingBox.drawRect(0,0,e,e),mapGfx.lineStyle(10,39423,1),mapGfx.moveTo(screenSpaceUserLocation.x,screenSpaceUserLocation.y),mapGfx.lineTo(landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2+e/2,landmarks[33][1]);const a=pixelatedUserFaceBMD.width/(e/userVideoSpriteScale);pixelatedUserFaceBMD.copy(userVideoSprite,(landmarks[33][0]-e/2)/userVideoSpriteScale,(landmarks[33][1]-e/2)/userVideoSpriteScale,e/userVideoSpriteScale,e/userVideoSpriteScale,0,0,void 0,void 0,0,0,0,a,a,1,null,!0),pixelatedUserFaceBMD.update(),pixelatedUserFaceBMD.processPixelRGB(e=>{return.2126*e.r+.7152*e.g+.0722*e.b<125?{r:0,g:0,b:0,a:255}:{r:255,g:255,b:255,a:255}},this);const o=e/pixelatedUserFaceBMD.width;pixelatedUserFaceSprite.scale.setTo(o,o),pixelatedUserFaceSprite.position={x:i,y:t},pixelatedUserFaceSprite.visible=!0,emotions?(userFaceRawEmotionsText.text=`[${emotions.neutral.toFixed(6)} ${emotions.happy.toFixed(6)} ${emotions.sad.toFixed(6)} ${emotions.angry.toFixed(6)}\n${emotions.fearful.toFixed(6)} ${emotions.disgusted.toFixed(6)} ${emotions.surprised.toFixed(6)}]`,userFaceRawEmotionsText.position={x:i,y:t+e+10},userFaceRawEmotionsText.visible=!0):userFaceRawEmotionsText.visible=!1}else pixelatedUserFaceSprite.visible=!1,userFaceRawEmotionsText.visible=!1}),makeMultiFrameEvent(7222,7223,()=>{pixelatedUserFaceSprite.visible=!1,userFaceRawEmotionsText.visible=!1,mapGfx.clear(),boundingBox.clear(),mapBlinkTimer.stop(),mapGroup.visible=!1,userVideoGroup.visible=!1}),makeMultiFrameEvent(7377,7378,()=>{boundingBox.visible=!1,boundingBox.clear(),boundingBox.position={x:428,y:315},boundingBox.lineStyle(4,16711680,1),boundingBox.drawRect(0,0,301,97),patentBoxTimer=game.time.create(!1),patentBoxTimer.loop(200,()=>{boundingBox.visible=!boundingBox.visible},this),patentBoxTimer.start()}),makeMultiFrameEvent(7462,7463,()=>{const e=700*Math.cos(1),i=700*Math.sin(1);snapchatEmojiEmitter.setXSpeed(e,4*e),snapchatEmojiEmitter.setYSpeed(i,4*i),snapchatEmojiEmitter.explode(5e3,K_EMOJI_EXPLOSION_PARTICLES)}),makeMultiFrameEvent(7472,7473,()=>{boundingBox.visible=!1,patentBoxTimer.stop()}),makeMultiFrameEvent(7624,7625,()=>{boundingBox.clear(),boundingBox.position={x:794,y:346},boundingBox.lineStyle(4,16711680,1),boundingBox.drawRect(0,0,304,70),patentBoxTimer=game.time.create(!1),patentBoxTimer.loop(200,()=>{boundingBox.visible=!boundingBox.visible},this),patentBoxTimer.start()}),makeMultiFrameEvent(7684,7685,()=>{boundingBox.visible=!1,boundingBox.clear(),patentBoxTimer.stop()}),makeMultiFrameEvent(8368,8369,()=>{const e=700*Math.cos(1),i=700*Math.sin(1);applauseEmojiEmitter.setXSpeed(e,4*e),applauseEmojiEmitter.setYSpeed(i,4*i),applauseEmojiEmitter.explode(5e3,K_EMOJI_EXPLOSION_PARTICLES)}),makeMultiFrameEvent(8712,8713,()=>{computerDesktop.visible=!0,mouseCursor.visible=!0,game.add.tween(mouseCursor).to({x:1230,y:20},400,Phaser.Easing.Linear.None,!0,0,0,!1).onComplete.addOnce(()=>{doubleClickSFX.play(),landmarks?(disney.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,disney.y=landmarks[33][1]):disney.position={x:K_PROJECT_WIDTH/2,y:K_PROJECT_HEIGHT/2},disney.visible=!0})}),makeMultiFrameEvent(8713,8763,()=>{landmarks&&(disney.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,disney.y=landmarks[33][1])}),makeMultiFrameEvent(8763,8764,()=>{doubleClickSFX.play(),twentiethCenturyFox.position={x:K_PROJECT_WIDTH/2,y:K_PROJECT_HEIGHT/2}}),makeMultiFrameEvent(8764,8836,()=>{landmarks&&(twentiethCenturyFox.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,twentiethCenturyFox.y=landmarks[33][1]),twentiethCenturyFox.visible=!0}),makeMultiFrameEvent(8836,8837,()=>{doubleClickSFX.play(),kelloggsCornFlakes.position={x:K_PROJECT_WIDTH/2,y:K_PROJECT_HEIGHT/2}}),makeMultiFrameEvent(8837,8917,()=>{landmarks&&(kelloggsCornFlakes.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,kelloggsCornFlakes.y=landmarks[33][1]),kelloggsCornFlakes.visible=!0}),makeMultiFrameEvent(8917,8918,()=>{doubleClickSFX.play(),yourLocalPizzeria.position={x:K_PROJECT_WIDTH/2,y:K_PROJECT_HEIGHT/2}}),makeMultiFrameEvent(8918,8981,()=>{landmarks&&(yourLocalPizzeria.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,yourLocalPizzeria.y=landmarks[33][1]),yourLocalPizzeria.visible=!0}),makeMultiFrameEvent(8981,8982,()=>{doubleClickSFX.play(),forYourNextJob.position={x:K_PROJECT_WIDTH/2,y:K_PROJECT_HEIGHT/2}}),makeMultiFrameEvent(8982,9107,()=>{landmarks&&(forYourNextJob.x=K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,forYourNextJob.y=landmarks[33][1]),forYourNextJob.visible=!0}),makeMultiFrameEvent(9107,9108,()=>{forYourNextJob.visible=!1,yourLocalPizzeria.visible=!1,kelloggsCornFlakes.visible=!1,twentiethCenturyFox.visible=!1,disney.visible=!1,mouseCursor.visible=!1,computerDesktop.visible=!1}),makeMultiFrameEvent(9151,9152,()=>{if(null!==dogPos&&null!==menPos&&null!==womenPos&&null!==whiteNegative&&null!==nonWhiteNegative&&null!==kanyePos){const e=5e-4,i=.05,t=-((dogPos+Math.abs(menPos-womenPos)+Math.abs(whiteNegative-nonWhiteNegative)+kanyePos)/4-e)/i;iq=Math.floor(15*t+100),iq<1&&(iq=game.rnd.integerInRange(1,20)),K_INSTALLATION_MODE&&socket.emit("iq",[iq])}iq<100&&(wayOverYourHead=!0),iqStatTitle.text=`${iq} `,iqStatTitle.fill=iq<100?"#ff0000":"#33cc33",estimatedIQTitle.visible=!0,iqStatTitle.visible=!0,wayOverYourHead?thatPartWaySFX.play():thatPartBitSFX.play()}),makeMultiFrameEvent(9702,9703,()=>{function e(){function e(){const e=function(e){return null!==e},i=[],t=[];if(i.push(getAveragePositiveEmotions(viewerFaceData,585,1025)),t.push(getAverageNegativeEmotions(viewerFaceData,585,1025)),i.push(getAveragePositiveEmotions(viewerFaceData,2125,2278)),t.push(getAverageNegativeEmotions(viewerFaceData,2125,2278)),i.push(getAveragePositiveEmotions(viewerFaceData,3363,3921)),t.push(getAverageNegativeEmotions(viewerFaceData,3363,3921)),i.push(getAveragePositiveEmotions(viewerFaceData,6731,7222)),t.push(getAverageNegativeEmotions(viewerFaceData,6731,7222)),i.some(e)&&t.some(e)){let e=0;for(let t=0;t<i.length;t+=1)e+=i[t];let a=0;for(let e=0;e<t.length;e+=1)a+=t[e];const o=e/i.length,r=a/t.length;r>o&&(isSelfLoathing=!0),K_INSTALLATION_MODE&&socket.emit("selfImage",[isSelfLoathing,Math.abs(o-r).toFixed(6)]),selfImageQuantificationComplete=!0,finalPopSFX.play()}isSelfLoathing?isSelfLoathingSFX.play():isNotSelfLoathingSFX.play(),reactionToYourselfLabel.text="reaction to yourself: "+(isSelfLoathing?"bad":"good"),reactionToYourselfLabel.position.x=userVideoGroup.x+userVideoSprite.x+userVideoSprite.width-37,reactionToYourselfLabel.position.y=K_PROJECT_HEIGHT-147,reactionToYourselfLabel.visible=!0}const i=[];for(let e=0;e<viewerFaceData.length;e+=1)if(viewerFaceData[e].sad){const t=(viewerFaceData[e].happy+viewerFaceData[e].sad+viewerFaceData[e].angry+viewerFaceData[e].fearful+viewerFaceData[e].disgusted+viewerFaceData[e].surprised)/6;i.push(t)}let t=null;if(i.length>0){let e=0;for(let a=0;a<i.length;a+=1)t=(e+=i[a])/i.length}null!==t&&(isMentallyIll=t<.05,K_INSTALLATION_MODE&&socket.emit("mentalHealth",[isMentallyIll,t.toFixed(6)])),isMentallyIllSFX.onStop.addOnce(e),isNotMentallyIllSFX.onStop.addOnce(e),isMentallyIll?isMentallyIllSFX.play():isNotMentallyIllSFX.play(),facialAffectLabel.text="avg facial affect: "+(isMentallyIll?"low":"high"),facialAffectLabel.position.x=userVideoGroup.x+userVideoSprite.x+userVideoSprite.width-37,facialAffectLabel.position.y=K_PROJECT_HEIGHT-87,facialAffectLabel.visible=!0,mentalHealthQuantificationComplete=!0,finalPopSFX.play()}if(userVideoGroup.position.x=0,userVideoGroup.position.y=0,userVideoGroup.visible=!0,userVideoSprite.visible=!0,userVideoSprite.mask=null,userVideoProcessedSprite.visible=!1,userVideoProcessedSprite.mask=null,userVideoMaskQuarterRight.visible=!1,estimatedIQTitle.visible=!1,iqStatTitle.visible=!1,null!==dogPos&&null!==iq&&null!==republicanPct){const e=iq/100,i=republicanPct/50,t=((dogPos+e+i)/3-.5)/.1;estimatedIncome=Math.floor(2e4*t+31099),estimatedIncome<0&&(estimatedIncome=0),estimatedIncome<31099&&(isPoor=!0),K_INSTALLATION_MODE&&socket.emit("estimatedIncome",[estimatedIncome])}isPoorSFX.onStop.addOnce(e),isNotPoorSFX.onStop.addOnce(e),isPoor?isPoorSFX.play():isNotPoorSFX.play(),estimatedIncomeLabel.text="estimated income: $"+estimatedIncome,estimatedIncomeLabel.position.x=userVideoGroup.x+userVideoSprite.x+userVideoSprite.width-37,estimatedIncomeLabel.position.y=K_PROJECT_HEIGHT-27,estimatedIncomeLabel.visible=!0,wealthQuantificationComplete=!0,finalPopSFX.play()}),makeMultiFrameEvent(9703,10176,()=>{if(wealthQuantificationComplete&&(isPoor?drawPoorHatFilter(landmarks):drawCrownFilter(landmarks)),mentalHealthQuantificationComplete&&(isMentallyIll?drawThoughtBubbleFilter(landmarks,thoughtBubbleSad):drawThoughtBubbleFilter(landmarks,thoughtBubbleHappy)),selfImageQuantificationComplete&&(isSelfLoathing?drawProhibitedFilter(landmarks):drawHeartEyesFilter(landmarks),null===readyForBaseballCardCaptureFrame&&(readyForBaseballCardCaptureFrame=frame)),K_SHOW_BASEBALL_CARD&&!baseballCardPicCaptured&&landmarks&&null!==readyForBaseballCardCaptureFrame&&frame-readyForBaseballCardCaptureFrame>5){baseballCardPicCaptured=!0,baseballCard.draw("gradient1",0,K_PROJECT_HEIGHT,1280,720);const e=K_PROJECT_HEIGHT/userVideo.height;baseballCard.copy(game.canvas,(K_PROJECT_WIDTH-userVideo.width*e)/2,0,userVideo.width*e,userVideo.height*e,0,0,void 0,void 0,void 0,void 0,void 0,1,1);let i="none";null!==menPos&&null!==womenPos&&(i=preferMen?`+${(menPos-womenPos).toFixed(6)} male`:`+${(womenPos-menPos).toFixed(6)} female`);let t="none";if(null!==whiteNegative&&null!==nonWhiteNegative){const e=preferWhite?nonWhiteNegative-whiteNegative:whiteNegative-nonWhiteNegative;t=preferWhite?`+${e.toFixed(6)} white`:`+${e.toFixed(6)} Black`}const a=game.make.text(0,0,'"A.I. stole my feelings at \nwww.stealingurfeelin.gs" ',{font:"Arimo, sans-serif",strokeThickness:5,fontStyle:"italic",fontSize:"50px",fontWeight:"bold",fill:"#00ffff",align:"left"});a.lineSpacing=-10,a.setShadow(5,5,"#000000"),a.updateText(),baseballCard.draw(a,37,10);const o=K_PROJECT_HEIGHT;baseballCard.text(`likes dogs: ${likeDogs?"yes":"no"}`,37,o+57,"bold 30px Arimo","rgb(255, 255, 0)",!0),baseballCard.text(`likes kanye west: ${likeKanye?"yes":"no"}`,37,o+97,"bold 30px Arimo","rgb(255, 255, 0)",!0),baseballCard.text(`wants pizza: ${likePizza?"yes":"no"}`,37,o+137,"bold 30px Arimo","rgb(255, 255, 0)",!0),baseballCard.text(`gender bias: ${i}`,37,o+177,"bold 30px Arimo","rgb(255, 255, 0)",!0),baseballCard.text(`racial bias: ${t}`,37,o+217,"bold 30px Arimo","rgb(255, 255, 0)",!0),baseballCard.text(`estimated IQ: ${iq}`,37,o+257,"bold 30px Arimo","rgb(255, 255, 0)",!0),baseballCard.draw("sufStamp",baseballCard.width-200-37,baseballCard.height-100-K_BASEBALL_CARD_TEXT_FIELD_HEIGHT/2,200,200),baseballCard.update()}}),makeMultiFrameEvent(10176,10177,()=>{wealthQuantificationComplete&&(isPoor?drawPoorHatFilter(landmarks):drawCrownFilter(landmarks)),mentalHealthQuantificationComplete&&(isMentallyIll?drawThoughtBubbleFilter(landmarks,thoughtBubbleSad):drawThoughtBubbleFilter(landmarks,thoughtBubbleHappy)),selfImageQuantificationComplete&&(isSelfLoathing?drawProhibitedFilter(landmarks):drawHeartEyesFilter(landmarks));game.add.tween(poorHat).to({alpha:0},1e3,Phaser.Easing.Linear.None,!0,0,0,!1),game.add.tween(crown).to({alpha:0},1e3,Phaser.Easing.Linear.None,!0,0,0,!1),game.add.tween(leftHeart).to({alpha:0},1e3,Phaser.Easing.Linear.None,!0,0,0,!1),game.add.tween(rightHeart).to({alpha:0},1e3,Phaser.Easing.Linear.None,!0,0,0,!1),game.add.tween(leftProhibited).to({alpha:0},1e3,Phaser.Easing.Linear.None,!0,0,0,!1),game.add.tween(rightProhibited).to({alpha:0},1e3,Phaser.Easing.Linear.None,!0,0,0,!1),game.add.tween(isMentallyIll?thoughtBubbleSad:thoughtBubbleHappy).to({alpha:0},1e3,Phaser.Easing.Linear.None,!0,0,0,!1),game.add.tween(estimatedIncomeLabel).to({alpha:0},1e3,Phaser.Easing.Linear.None,!0,0,0,!1),game.add.tween(reactionToYourselfLabel).to({alpha:0},1e3,Phaser.Easing.Linear.None,!0,0,0,!1),game.add.tween(facialAffectLabel).to({alpha:0},1e3,Phaser.Easing.Linear.None,!0,0,0,!1);userVideoProcessedSprite.alpha=0,userVideoProcessedSprite.visible=!0;game.add.tween(userVideoProcessedSprite).to({alpha:1},1e3,Phaser.Easing.Linear.None,!0,0,0,!1);for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1){landmarkText[e].alpha=0,landmarkText[e].visible=!0;game.add.tween(landmarkText[e]).to({alpha:1},1e3,Phaser.Easing.Linear.None,!0,0,0,!1)}if(gameframe%K_VIDEO_PROCESSING_FRAME_INTERVAL==0||10211===frame){const e=1/K_VIDEO_PROCESSING_DOWNRES_FACTOR*1.5;userVideoProcessedBMD.copy(userVideoSprite,0,0,Math.floor(userVideo.width),Math.floor(userVideo.height),0,0,void 0,void 0,void 0,void 0,void 0,e,e,void 0,null,!0),userVideoProcessedBMD.update(),userVideoProcessedBMD.processPixelRGB(e=>{const i=.2126*e.r+.7152*e.g+.0722*e.b;return{r:i,g:i,b:i,a:255}},this)}if(landmarks)for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!0,landmarkText[e].position={x:landmarks[e][0]+userVideoGroup.position.x+userVideoProcessedSprite.position.x,y:landmarks[e][1]+userVideoGroup.position.y+userVideoProcessedSprite.position.y};else for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!1}),makeMultiFrameEvent(10177,10392,()=>{if(wealthQuantificationComplete&&(isPoor?drawPoorHatFilter(landmarks):drawCrownFilter(landmarks)),mentalHealthQuantificationComplete&&(isMentallyIll?drawThoughtBubbleFilter(landmarks,thoughtBubbleSad):drawThoughtBubbleFilter(landmarks,thoughtBubbleHappy)),selfImageQuantificationComplete&&(isSelfLoathing?drawProhibitedFilter(landmarks):drawHeartEyesFilter(landmarks)),gameframe%K_VIDEO_PROCESSING_FRAME_INTERVAL==0){const e=1/K_VIDEO_PROCESSING_DOWNRES_FACTOR*1.5;userVideoProcessedBMD.copy(userVideoSprite,0,0,Math.floor(userVideo.width),Math.floor(userVideo.height),0,0,void 0,void 0,void 0,void 0,void 0,e,e,void 0,null,!0),userVideoProcessedBMD.update(),userVideoProcessedBMD.processPixelRGB(e=>{const i=.2126*e.r+.7152*e.g+.0722*e.b;return{r:i,g:i,b:i,a:255}},this)}if(landmarks)for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!0,landmarkText[e].position={x:landmarks[e][0]+userVideoGroup.position.x+userVideoProcessedSprite.position.x,y:landmarks[e][1]+userVideoGroup.position.y+userVideoProcessedSprite.position.y};else for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!1}),makeMultiFrameEvent(10355,10356,()=>{userVideoProcessedSpriteLeftMask=game.add.sprite(0,0,altUserVideoProcessedBMD),userVideoProcessedSpriteLeftMask.alpha=0,userVideoProcessedSpriteLeftMask.scale.setTo(K_VIDEO_PROCESSING_DOWNRES_FACTOR,K_VIDEO_PROCESSING_DOWNRES_FACTOR),userVideoProcessedSpriteLeftMask.position={x:K_PROJECT_WIDTH/2-userVideoSprite.width/2,y:0},altUserVideoGroup.add(userVideoProcessedSpriteLeftMask),altUserVideoGroup.position.x=0,altUserVideoGroup.position.y=0,userVideoProcessedSpriteLeftMask.visible=!0,altUserVideoGroup.visible=!0;game.add.tween(userVideoProcessedSpriteLeftMask).to({alpha:1},300,Phaser.Easing.Linear.None,!0,0,0,!1);if(gameframe%K_VIDEO_PROCESSING_FRAME_INTERVAL==0||2125===frame){const e=1/K_VIDEO_PROCESSING_DOWNRES_FACTOR*1.5;altUserVideoProcessedBMD.copy(userVideoSprite,0,0,Math.floor(userVideo.width),Math.floor(userVideo.height),0,0,void 0,void 0,void 0,void 0,void 0,e,e,void 0,null,!0),altUserVideoProcessedBMD.update(),altUserVideoProcessedBMD.processPixelRGB(e=>{return.2126*e.r+.7152*e.g+.0722*e.b<125?{r:0,g:0,b:0,a:255}:{r:102,g:102,b:102,a:255}},this)}if(gameframe%K_VIDEO_PROCESSING_FRAME_INTERVAL==0){const e=1/K_VIDEO_PROCESSING_DOWNRES_FACTOR*1.5;userVideoProcessedBMD.copy(userVideoSprite,0,0,Math.floor(userVideo.width),Math.floor(userVideo.height),0,0,void 0,void 0,void 0,void 0,void 0,e,e,void 0,null,!0),userVideoProcessedBMD.update(),userVideoProcessedBMD.processPixelRGB(e=>{const i=.2126*e.r+.7152*e.g+.0722*e.b;return{r:i,g:i,b:i,a:255}},this)}if(landmarks)for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!0,landmarkText[e].position={x:landmarks[e][0]+userVideoGroup.position.x+userVideoProcessedSprite.position.x,y:landmarks[e][1]+userVideoGroup.position.y+userVideoProcessedSprite.position.y};else for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!1}),makeMultiFrameEvent(10356,10366,()=>{if(gameframe%K_VIDEO_PROCESSING_FRAME_INTERVAL==0||2125===frame){const e=1/K_VIDEO_PROCESSING_DOWNRES_FACTOR*1.5;altUserVideoProcessedBMD.copy(userVideoSprite,0,0,Math.floor(userVideo.width),Math.floor(userVideo.height),0,0,void 0,void 0,void 0,void 0,void 0,e,e,void 0,null,!0),altUserVideoProcessedBMD.update(),altUserVideoProcessedBMD.processPixelRGB(e=>{return.2126*e.r+.7152*e.g+.0722*e.b<125?{r:0,g:0,b:0,a:255}:{r:102,g:102,b:102,a:255}},this)}if(gameframe%K_VIDEO_PROCESSING_FRAME_INTERVAL==0){const e=1/K_VIDEO_PROCESSING_DOWNRES_FACTOR*1.5;userVideoProcessedBMD.copy(userVideoSprite,0,0,Math.floor(userVideo.width),Math.floor(userVideo.height),0,0,void 0,void 0,void 0,void 0,void 0,e,e,void 0,null,!0),userVideoProcessedBMD.update(),userVideoProcessedBMD.processPixelRGB(e=>{const i=.2126*e.r+.7152*e.g+.0722*e.b;return{r:i,g:i,b:i,a:255}},this)}if(landmarks)for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!0,landmarkText[e].position={x:landmarks[e][0]+userVideoGroup.position.x+userVideoProcessedSprite.position.x,y:landmarks[e][1]+userVideoGroup.position.y+userVideoProcessedSprite.position.y};else for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!1}),makeMultiFrameEvent(10366,10367,()=>{userVideoProcessedSprite.visible=!1;for(let e=0;e<K_NUMBER_OF_LANDMARKS;e+=1)landmarkText[e].visible=!1;if(gameframe%K_VIDEO_PROCESSING_FRAME_INTERVAL==0||2125===frame){const e=1/K_VIDEO_PROCESSING_DOWNRES_FACTOR*1.5;altUserVideoProcessedBMD.copy(userVideoSprite,0,0,Math.floor(userVideo.width),Math.floor(userVideo.height),0,0,void 0,void 0,void 0,void 0,void 0,e,e,void 0,null,!0),altUserVideoProcessedBMD.update(),altUserVideoProcessedBMD.processPixelRGB(e=>{return.2126*e.r+.7152*e.g+.0722*e.b<125?{r:0,g:0,b:0,a:255}:{r:102,g:102,b:102,a:255}},this)}}),makeMultiFrameEvent(10367,10388,()=>{if(gameframe%K_VIDEO_PROCESSING_FRAME_INTERVAL==0||2125===frame){const e=1/K_VIDEO_PROCESSING_DOWNRES_FACTOR*1.5;altUserVideoProcessedBMD.copy(userVideoSprite,0,0,Math.floor(userVideo.width),Math.floor(userVideo.height),0,0,void 0,void 0,void 0,void 0,void 0,e,e,void 0,null,!0),altUserVideoProcessedBMD.update(),altUserVideoProcessedBMD.processPixelRGB(e=>{return.2126*e.r+.7152*e.g+.0722*e.b<125?{r:0,g:0,b:0,a:255}:{r:102,g:102,b:102,a:255}},this)}}),makeMultiFrameEvent(10388,10389,()=>{if(boundingBox.clear(),boundingBox.visible=!0,finalBoundingBlinkTimer=game.time.create(!1),finalBoundingBlinkTimer.loop(100,()=>{boundingBox.visible=!boundingBox.visible},this),finalBoundingBlinkTimer.start(),landmarks){const e=new Phaser.Line(landmarks[0][0],landmarks[0][1],landmarks[16][0],landmarks[16][1]).length,i=landmarks[33][0]+userVideoGroup.position.x+userVideoSprite.position.x-e/2,t=landmarks[33][1]+userVideoGroup.position.y+userVideoSprite.position.y-e/2;boundingBox.position={x:i,y:t},boundingBox.lineStyle(5,16711680,1),boundingBox.drawRect(0,0,e,e)}if(gameframe%K_VIDEO_PROCESSING_FRAME_INTERVAL==0||2125===frame){const e=1/K_VIDEO_PROCESSING_DOWNRES_FACTOR*1.5;altUserVideoProcessedBMD.copy(userVideoSprite,0,0,Math.floor(userVideo.width),Math.floor(userVideo.height),0,0,void 0,void 0,void 0,void 0,void 0,e,e,void 0,null,!0),altUserVideoProcessedBMD.update(),altUserVideoProcessedBMD.processPixelRGB(e=>{return.2126*e.r+.7152*e.g+.0722*e.b<125?{r:0,g:0,b:0,a:255}:{r:102,g:102,b:102,a:255}},this)}}),makeMultiFrameEvent(10389,10441,()=>{if(boundingBox.clear(),landmarks){const e=new Phaser.Line(landmarks[0][0],landmarks[0][1],landmarks[16][0],landmarks[16][1]).length,i=landmarks[33][0]+userVideoGroup.position.x+userVideoSprite.position.x-e/2,t=landmarks[33][1]+userVideoGroup.position.y+userVideoSprite.position.y-e/2;boundingBox.position={x:i,y:t},boundingBox.lineStyle(5,16711680,1),boundingBox.drawRect(0,0,e,e)}if(gameframe%K_VIDEO_PROCESSING_FRAME_INTERVAL==0||2125===frame){const e=1/K_VIDEO_PROCESSING_DOWNRES_FACTOR*1.5;altUserVideoProcessedBMD.copy(userVideoSprite,0,0,Math.floor(userVideo.width),Math.floor(userVideo.height),0,0,void 0,void 0,void 0,void 0,void 0,e,e,void 0,null,!0),altUserVideoProcessedBMD.update(),altUserVideoProcessedBMD.processPixelRGB(e=>{return.2126*e.r+.7152*e.g+.0722*e.b<125?{r:0,g:0,b:0,a:255}:{r:102,g:102,b:102,a:255}},this)}}),makeMultiFrameEvent(10441,10442,()=>{if(K_BETA){let e,i,t=0;for(let e=0;e<fpsSamples.length;e+=1)t+=fpsSamples[e];t/=fpsSamples.length,game.device.chrome?(e="Chrome",i=game.device.chromeVersion):game.device.firefox?(e="Firefox",i=game.device.firefoxVersion):game.device.safari?(e="Safari",i=game.device.safariVersion):(e="Other",i=0);const a=`Plz snap a pic of this + email to: noahlevenson@gmail.com\n\n\t\t\thardwareConcurrency: ${navigator.hardwareConcurrency}\n\n\t\t\tcv refresh rate: ${K_CV_REFRESH_INTERVAL}\n\n\t\t\tbrowser: ${e}\n\n\t\t\tversion: ${i}\n\n\t\t\tmultithreading: ${K_MULTITHREADING}\n\n\t\t\tavg fps: ${t.toFixed(0)}`;game.add.text(0,0,a,{font:"Arimo, sans-serif",fontSize:"14px",fill:"#000000",backgroundColor:"#ffff1a"})}userVideoProcessedSpriteLeftMask.visible=!1,userVideoGroup.visible=!1,boundingBox.clear(),finalBoundingBlinkTimer.stop(),creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH/2,y:K_PROJECT_HEIGHT/2},landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]}),creditTitle.visible=!0}),makeMultiFrameEvent(10442,10606,()=>{landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]})}),makeMultiFrameEvent(10606,10607,()=>{creditTitle.visible=!1}),makeMultiFrameEvent(10625,10626,()=>{if(K_SHOW_BASEBALL_CARD&&baseballCardPicCaptured){creditSqueezeOffset=K_PROJECT_WIDTH/4,creditTitle.setStyle({font:"Arial, Helvetica, sans-serif",fontSize:"24px",fontWeight:"bold",fill:"#FFFFFF"},!0),mozillaLogoWhite.scale.setTo(.5,.5);const e=document.getElementById("baseball-card"),i=baseballCard.canvas.toDataURL();e.width=Math.round(userVideo.width*(K_PROJECT_HEIGHT/userVideo.height)),e.height=Math.round(userVideo.height*(K_PROJECT_HEIGHT/userVideo.height)),e.src=i;const t=document.getElementById("baseball-card-download");t.href=i;const a=new Phaser.Loader(game);a.image("baseball-card",i),a.onLoadComplete.addOnce(()=>{baseballCardSprite=game.add.sprite(0,0,"baseball-card"),baseballCardSprite.scale.setTo(.5,.5),baseballCardSprite.anchor.setTo(.5,.5),baseballCardSprite.position={x:K_PROJECT_WIDTH/4,y:K_PROJECT_HEIGHT/2},baseballCardSprite.inputEnabled=!0,baseballCardSprite.input.useHandCursor=!0;const e=game.add.text(0,0,"^^ click to download your personalized results ^^",{font:"Arimo, sans-serif",fontSize:"20px",fontWeight:"bold",fill:"#FFFFFF"});e.anchor.setTo(.5,.5),e.position={x:K_PROJECT_WIDTH/4,y:K_PROJECT_HEIGHT/2+baseballCardSprite.height/2+24};const i=game.time.create(!1);i.loop(800,()=>{e.visible=!e.visible},this),i.start(),baseballCardSprite.events.onInputDown.add(()=>{t.click()},this),baseballCardSprite.events.onInputOver.add(()=>{baseballCardSprite.tint=10921638},this),baseballCardSprite.events.onInputOut.add(()=>{baseballCardSprite.tint=16777215},this)}),a.start()}creditTitle.text=`starring\nYOU\n\n(who ${likeDogs?"likes":"doesn't like"} dogs,\n${likeKanye?"likes":"doesn't like"} Kanye,\nand ${likePizza?"wants":"doesn't want"} some pizza)`,landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]}),creditTitle.visible=!0}),makeMultiFrameEvent(10626,10718,()=>{landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]})}),makeMultiFrameEvent(10718,10719,()=>{creditTitle.visible=!1}),makeMultiFrameEvent(10737,10738,()=>{creditTitle.text="executive producer\nBRETT GAYLOR",landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]}),creditTitle.visible=!0}),makeMultiFrameEvent(10738,10831,()=>{landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]})}),makeMultiFrameEvent(10831,10832,()=>{creditTitle.visible=!1}),makeMultiFrameEvent(10850,10851,()=>{creditTitle.text="AR character artist\nASHER LEVENSON",landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]}),creditTitle.visible=!0}),makeMultiFrameEvent(10851,10943,()=>{landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]})}),makeMultiFrameEvent(10943,10944,()=>{creditTitle.visible=!1}),makeMultiFrameEvent(10962,10963,()=>{creditTitle.text="designer\nANA SANCHEZ\n\nlogo animation\nDAVID ACAMPORA",landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]}),creditTitle.visible=!0}),makeMultiFrameEvent(10963,11056,()=>{landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]})}),makeMultiFrameEvent(11056,11057,()=>{creditTitle.visible=!1}),makeMultiFrameEvent(11075,11076,()=>{creditTitle.text="editor\nNELSON VAN HOE\n\nassistant editor\nERIE CULKOWSKI",landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]}),creditTitle.visible=!0}),makeMultiFrameEvent(11076,11168,()=>{landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]})}),makeMultiFrameEvent(11168,11169,()=>{creditTitle.visible=!1}),makeMultiFrameEvent(11187,11188,()=>{creditTitle.text="narrator\nNOAH LEVENSON",landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]}),creditTitle.visible=!0}),makeMultiFrameEvent(11188,11281,()=>{landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]})}),makeMultiFrameEvent(11281,11282,()=>{creditTitle.visible=!1}),makeMultiFrameEvent(11300,11301,()=>{creditTitle.text="re-recording mixer\nMARC DICENZO",landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]}),creditTitle.visible=!0}),makeMultiFrameEvent(11301,11393,()=>{landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]})}),makeMultiFrameEvent(11393,11394,()=>{creditTitle.visible=!1}),makeMultiFrameEvent(11412,11413,()=>{creditTitle.text="app users\nTHE ACE FAMILY SNAPCHAT\nHELPVIDEOSTV\nYING MA\nCHRISTINA LORRE'",landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]}),creditTitle.visible=!0}),makeMultiFrameEvent(11413,11507,()=>{landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]})}),makeMultiFrameEvent(11507,11508,()=>{creditTitle.visible=!1}),makeMultiFrameEvent(11526,11527,()=>{creditTitle.text="associate producers\nALLYSSA AGRO\nKATIE BOLAND",landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]}),creditTitle.visible=!0}),makeMultiFrameEvent(11527,11617,()=>{landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]})}),makeMultiFrameEvent(11617,11618,()=>{creditTitle.visible=!1}),makeMultiFrameEvent(11637,11638,()=>{creditTitle.text="for mozilla\nJENN BEARD\nLINDSEY FROST\nKEVIN ZAWACKI\n\nfor harmony labs\nMARY JOYCE\nH PAUL JOHNSON",landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]}),creditTitle.visible=!0}),makeMultiFrameEvent(11638,11730,()=>{landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]})}),makeMultiFrameEvent(11730,11731,()=>{creditTitle.visible=!1}),makeMultiFrameEvent(11749,11750,()=>{creditTitle.text="catering\nPIZZERIA LA ROSA\n\nexperiential fabrication\nOTTAVIO'S WOODWORKING\n\npublicity\nPKPR",landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]}),creditTitle.visible=!0}),makeMultiFrameEvent(11750,11842,()=>{landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]})}),makeMultiFrameEvent(11842,11843,()=>{creditTitle.visible=!1}),makeMultiFrameEvent(11861,11862,()=>{creditTitle.text="special thanks\nAMANDA CULKOWSKI\nJENNA XU\nNIC MONTANARO\nERIK LEE SNYDER\nALEC COIRO\nKURSTEN BRACCHI",landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]}),creditTitle.visible=!0}),makeMultiFrameEvent(11862,11955,()=>{landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]})}),makeMultiFrameEvent(11955,11956,()=>{creditTitle.visible=!1}),makeMultiFrameEvent(11974,11975,()=>{creditTitle.text="a BRONX RIVER ADVENTURES project",landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]}),creditTitle.visible=!0}),makeMultiFrameEvent(11975,12067,()=>{landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]})}),makeMultiFrameEvent(12067,12068,()=>{creditTitle.visible=!1}),makeMultiFrameEvent(12086,12087,()=>{mozillaLogoWhite.position={x:creditSqueezeOffset+K_PROJECT_WIDTH/2,y:K_PROJECT_HEIGHT/2},landmarks&&(mozillaLogoWhite.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]}),mozillaLogoWhite.visible=!0}),makeMultiFrameEvent(12087,12181,()=>{landmarks&&(mozillaLogoWhite.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]})}),makeMultiFrameEvent(12181,12182,()=>{mozillaLogoWhite.visible=!1}),makeMultiFrameEvent(12198,12199,()=>{creditTitle.text="MADE IN NEW YORK CITY  2019 A.D.",landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]}),creditTitle.visible=!0}),makeMultiFrameEvent(12199,12318,()=>{landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]})}),makeMultiFrameEvent(12318,12319,()=>{game.camera.fade(0,1e3),landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]})}),makeMultiFrameEvent(12319,12402,()=>{landmarks&&(creditTitle.position={x:creditSqueezeOffset+K_PROJECT_WIDTH-landmarks[33][0]-(K_PROJECT_WIDTH-userVideoSprite.width)/2,y:landmarks[33][1]})});